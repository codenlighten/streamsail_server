<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dumpster Dive: The Trashy Treasure Hunt</title>

    <!-- Essential Meta Tags -->
    <meta
      name="description"
      content="Dive into the ultimate trashy treasure hunt with Dumpster Dive! Climb the garbage heap, avoid setbacks, and claim your prize in this thrilling card-based adventure game."
    />
    <meta
      name="keywords"
      content="Dumpster Dive, trash game, card game, adventure game, treasure hunt, online game"
    />
    <meta name="author" content="Trash Games Inc." />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.dumpsterdivegame.com/" />
    <meta
      property="og:title"
      content="Dumpster Dive: The Trashy Treasure Hunt"
    />
    <meta
      property="og:description"
      content="Climb the garbage heap, avoid setbacks, and claim your prize in this thrilling card-based adventure game. Will you become the ultimate trash tycoon?"
    />
    <meta
      property="og:image"
      content="https://www.dumpsterdivegame.com/dumpster-dive-og-image.jpg"
    />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://www.dumpsterdivegame.com/" />
    <meta
      property="twitter:title"
      content="Dumpster Dive: The Trashy Treasure Hunt"
    />
    <meta
      property="twitter:description"
      content="Dive into a world of trashy treasures! Can you climb to the top of the garbage heap and claim the ultimate prize? Play Dumpster Dive now!"
    />
    <meta
      property="twitter:image"
      content="https://www.dumpsterdivegame.com/dumpster-dive-twitter-image.jpg"
    />

    <!-- Additional Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="Dumpster Dive" />
    <meta name="application-name" content="Dumpster Dive" />
    <meta name="msapplication-TileColor" content="#6d1399" />
    <meta name="theme-color" content="#6d1399" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <style>
      body {
        font-family: "Arial", sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        background-color: #6d1399;
        color: #fff;
        background-color: #6d1399;
        background-size: 56.57px 56.57px;
      }

      #game-container {
        background-color: rgba(255, 255, 255, 0.1);
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 0 30px rgba(246, 181, 14, 0.3);
        text-align: center;
        max-width: 1200px;
        width: 100%;
        backdrop-filter: blur(10px);
      }

      .card-container {
        margin: 10px;
        display: inline-block;
        width: 150px;
        height: auto;
        perspective: 1000px;
      }

      .card-action {
        display: none;
        padding: 10px;
        background-color: #f6b50e;
        color: #6d1399;
        border-radius: 10px;
        margin-top: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        width: 100%;
        margin: 5px auto;
      }

      .card-action.visible {
        display: block;
      }
      .card-action p {
        margin: 5px 0;
        font-size: 12px;
        line-height: 1.2;
      }

      .card {
        width: 150px;
        height: 200px;
        background-color: transparent;
        perspective: 1000px;
        cursor: pointer;
      }

      .card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.6s;
        transform-style: preserve-3d;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      .card:hover .card-inner {
        transform: scale(1.05);
      }

      .card.flipped .card-inner {
        transform: rotateY(180deg);
      }

      .card-front,
      .card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        border-radius: 10px;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
      }

      .card-front {
        background-color: #cc00ff;
      }

      .card-back {
        background-color: #f6b50e;
        color: #6d1399;
        transform: rotateY(180deg);
        padding: 10px;
        box-sizing: border-box;
      }

      .card-back img {
        width: 100%;
        height: auto;
        object-fit: contain;
        max-height: 90%;
      }
      .card-front img {
        width: 100%;
        height: auto;
        object-fit: contain;
        /* max-height: 60%; */
      }
      .card-back h3 {
        margin: 5px 0;
        font-size: 14px;
        color: #6d1399;
      }

      .card-back p {
        margin: 2px 0;
        font-size: 10px;
        line-height: 1.2;
      }

      button {
        margin-top: 20px;
        padding: 12px 24px;
        font-size: 16px;
        cursor: pointer;
        background-color: #f6b50e;
        color: #6d1399;
        border: none;
        border-radius: 5px;
        transition: all 0.3s ease;
        font-weight: bold;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      button:hover {
        background-color: #fff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        transform: translateY(-2px);
      }

      #game-info {
        margin-top: 20px;
        text-align: left;
        padding: 15px;
        background-color: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        border: 2px solid #f6b50e;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        font-size: 1.2em;
        font-weight: bold;
      }

      h1,
      h2,
      h3 {
        color: #f6b50e;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      h1 {
        font-size: 3em;
        margin-bottom: 10px;
      }

      #status {
        font-size: 1.2em;
        font-weight: bold;
        margin-bottom: 20px;
        color: #fff;
      }

      #lives,
      #level {
        color: #f6b50e;
        font-weight: bold;
      }
      #logo {
        width: 100px;
        height: 100px;
        margin: 0 auto;
        display: block;
      }
    </style>
  </head>
  <body>
    <div id="game-container">
      <h1>Dumpster Dive</h1>
      <img src="./dumpster_images/NEW GAME STUFF(3).png" alt="" id="logo" />
      <h2>The Trashy Treasure Hunt</h2>
      <div class="spacer"></div>
      <p id="status">
        Lives: <span id="lives">1</span> | Level: <span id="level">1</span>
      </p>
      <div id="cards-container">
        <!-- Level 0 -->
        <div class="card" data-level="0">
          <div class="card-inner">
            <div class="card-front">
              <img src="./dumpster_images/1.png" alt="Chalk Line Charli" />
            </div>
            <div class="card-back">
              <img src="./dumpster_images/slick_shawn.png" alt="Slick Shawn" />
              <h3>Slick Shawn</h3>
              <p>Climb back to Level 1</p>
              <p><em>You've found a way out! Move up to Level 1.</em></p>
            </div>
          </div>
        </div>
        <div class="card" data-level="0">
          <div class="card-inner">
            <div class="card-front">
              <img src="./dumpster_images/1.png" alt="Chalk Line Charli" />
            </div>
            <div class="card-back">
              <img
                src="./dumpster_images/busted_bryan.png"
                alt="Busted Bryan"
              />
              <h3>Busted Bryan</h3>
              <p>Stay in Sub-Level</p>
              <p>
                <em
                  >No luck this time. You remain in the Dumpster Dive level.</em
                >
              </p>
            </div>
          </div>
        </div>
        <div class="card" data-level="0">
          <div class="card-inner">
            <div class="card-front">
              <img src="./dumpster_images/1.png" alt="Chalk Line Charli" />
            </div>
            <div class="card-back">
              <img
                src="./dumpster_images/chalk_line_charli.png"
                alt="Chalk Line Charli"
              />
              <h3>Chalk Line Charli</h3>
              <p>You've been buried</p>
              <p><em>Game Over. The trash has overwhelmed you.</em></p>
            </div>
          </div>
        </div>

        <!-- Level 1 -->
        <div class="card" data-level="1">
          <div class="card-inner">
            <div class="card-front">
              <img src="./dumpster_images/5.png" alt="Chalk Line Charli" />
            </div>
            <div class="card-back">
              <img
                src="./dumpster_images/dumpster_danny.png"
                alt="Dumpster Danny"
              />
              <h3>Dumpster Danny</h3>
              <p>Find a hidden ladder</p>
              <p><em>Lucky find! Advance to Level 2.</em></p>
            </div>
          </div>
        </div>
        <div class="card" data-level="1">
          <div class="card-inner">
            <div class="card-front">
              <img src="./dumpster_images/5.png" alt="Chalk Line Charli" />
            </div>
            <div class="card-back">
              <img src="./dumpster_images/grimy_greta.png" alt="Grimy Greta" />
              <h3>Grimy Greta</h3>
              <p>Advance to Level 2</p>
              <p><em>You've made progress! Move up to Level 2.</em></p>
            </div>
          </div>
        </div>
        <!-- Add the rest of Level 1 cards similarly -->

        <!-- Level 2 -->
        <div class="card" data-level="2">
          <div class="card-inner">
            <div class="card-front">
              <img src="./dumpster_images/14.png" alt="Chalk Line Charli" />
            </div>
            <div class="card-back">
              <img src="./dumpster_images/rotten_rick.png" alt="Rotten Rick" />
              <h3>Rotten Rick</h3>
              <p>Step up to Level 3</p>
              <p><em>Great progress! Advance to Level 3.</em></p>
            </div>
          </div>
        </div>
        <!-- Add the rest of Level 2 cards similarly -->

        <!-- Level 3 -->
        <div class="card" data-level="3">
          <div class="card-inner">
            <div class="card-front">
              <img src="./dumpster_images/23.png" alt="Chalk Line Charli" />
            </div>
            <div class="card-back">
              <img
                src="./dumpster_images/trash_can_trap.png"
                alt="Trash Can Trap"
              />
              <h3>Trash Can Trap</h3>
              <p>It's a Traaap!</p>
              <p><em>Game Over. You've fallen into a trap!</em></p>
            </div>
          </div>
        </div>
        <!-- Add the rest of Level 3 cards similarly -->

        <!-- Level 4 -->
        <div class="card" data-level="4">
          <div class="card-inner">
            <div class="card-front">
              <img src="./dumpster_images/27.png" alt="Chalk Line Charli" />
            </div>
            <div class="card-back">
              <img
                src="./dumpster_images/grand_prize_gary.png"
                alt="Grand Prize Gary"
              />
              <h3>Grand Prize Gary</h3>
              <p>Winner Winner</p>
              <p><em>Jackpot! You've won the grand prize!</em></p>
            </div>
          </div>
        </div>
        <div class="card" data-level="4">
          <div class="card-inner">
            <div class="card-front">
              <img src="./dumpster_images/27.png" alt="Chalk Line Charli" />
            </div>
            <div class="card-back">
              <img
                src="./dumpster_images/slimey_samuel.png"
                alt="Slimey Samuel"
              />
              <h3>Slimey Samuel</h3>
              <p>You Get Nothing</p>
              <p><em>Game Over. So close, but you lose everything!</em></p>
            </div>
          </div>
        </div>
      </div>
      <div class="spacer"></div>

      <button id="claim-prize" style="display: none">Claim Prize</button>
      <button id="next-level" style="display: none">Next Level</button>
      <button id="restart" style="display: none">Restart Game</button>
      <div id="game-info"></div>
    </div>

    <script>
      const cardSets = {
        0: [
          {
            name: "Slick Shawn",
            effect: "Advance to Level 1",
            explanation: "You've found a way out! Move up to Level 1.",
          },
          {
            name: "Busted Bryan",
            effect: "Stay in Sub-Level",
            explanation:
              "No luck this time. You remain in the Dumpster Dive level.",
          },
          {
            name: "Chalk Line Charli",
            effect: "Game Over",
            explanation: "Game Over. The trash has overwhelmed you.",
          },
        ],
        1: [
          {
            name: "Dumpster Danny",
            effect: "Advance to Level 2",
            explanation: "Lucky find! Advance to Level 2.",
          },
          {
            name: "Grimy Greta",
            effect: "Advance to Level 2",
            explanation: "You've made progress! Move up to Level 2.",
          },
          {
            name: "Stale Sally",
            effect: "Stay on Level 1",
            explanation:
              "No progress, but no setback either. Remain on Level 1.",
          },
          {
            name: "Moldy Mike",
            effect: "Stay on Level 1",
            explanation: "You're trapped! Stay on Level 1.",
          },
          {
            name: "Backwards Benny",
            effect: "back to Level 0",
            explanation: "Oops! Go back to Level 0 (Dumpster Dive).",
          },
          {
            name: "Rewind Ralph",
            effect: "Rewind backwards",
            explanation: "Setback! Go back to Level 0 (Dumpster Dive).",
          },
          {
            name: "Dumpster Doom",
            effect: "Game Over",
            explanation: "Game Over. Your journey ends here.",
          },
          {
            name: "Game Over Greg",
            effect: "Game Over",
            explanation: "Game Over. Better luck next time!",
          },
        ],
        2: [
          {
            name: "Rotten Rick",
            effect: "Advance to Level 3",
            explanation: "Great progress! Advance to Level 3.",
          },
          {
            name: "Filthy Fran",
            effect: "Advance to Level 3",
            explanation: "You're climbing the trash heap! Move to Level 3.",
          },
          {
            name: "Moldy Molly",
            effect: "Stay on Level 2",
            explanation: "No movement. Stay on Level 2.",
          },
          {
            name: "Sloppy Sue",
            effect: "Game Over",
            explanation: "Game Over. Your climb ends messily.",
          },
          {
            name: "Sludge Sam",
            effect: "back to Level 1",
            explanation: "Slipped up! Go back to Level 1.",
          },
          {
            name: "Backwards Benny2",
            effect: "back to Level 1",
            explanation: "Setback! Return to Level 1.",
          },
          {
            name: "Game Over Greg",
            effect: "Game Over",
            explanation: "Game Over. The trash has won this time!",
          },
        ],
        3: [
          {
            name: "Trash Can Trap",
            effect: "Game Over",
            explanation: "Game Over. You've fallen into a trap!",
          },
          {
            name: "Trash Heap Hank",
            effect: "Game Over",
            explanation: "Game Over. The trash heap collapses on you.",
          },
          {
            name: "Braven the Bold",
            effect: "Winner",
            explanation: "Congratulations! You've conquered the landfill!",
          },
          {
            name: "Moldy Marie",
            effect: "Stay on Level 3",
            explanation: "No progress. Remain on Level 3.",
          },
          {
            name: "Game Over Gus",
            effect: "Game Over",
            explanation: "Game Over. So close, yet so far!",
          },
        ],
        4: [
          {
            name: "Grand Prize Gary",
            effect: "Winner",
            explanation: "Jackpot! You've won the grand prize!",
          },
          {
            name: "Slimey Samuel",
            effect: "Game Over",
            explanation: "Game Over. So close, but you lose everything!",
          },
        ],
      };

      const statusElement = document.getElementById("status");
      const livesElement = document.getElementById("lives");
      const levelElement = document.getElementById("level");
      const cardsContainer = document.getElementById("cards-container");
      const claimPrizeButton = document.getElementById("claim-prize");
      const nextLevelButton = document.getElementById("next-level");
      const restartButton = document.getElementById("restart");
      const gameInfoElement = document.getElementById("game-info");

      function updateStatus() {
        livesElement.textContent = lives;
        levelElement.textContent = currentLevel;
        updateGameInfo();
      }

      function updateGameInfo() {
        const levelInfo = levels[currentLevel];
        gameInfoElement.innerHTML = `
        <h3>Level ${currentLevel}: ${levelInfo.name}</h3>
        <p>Cards dealt: ${levelInfo.cards} out of ${levelInfo.set}</p>
        <p>Current goal: ${getGoalForLevel(currentLevel)}</p>
    `;
      }

      function getGoalForLevel(level) {
        switch (level) {
          case 0:
            return "Climb back to Level 1";
          case 1:
            return "Advance to Level 2 or higher";
          case 2:
          case 3:
            return "Advance to the next level or claim your prize";
          case 4:
            return "Win the grand prize or lose it all";
          default:
            return "Unknown";
        }
      }

      function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
      }
      let currentLevel = 1;
      let lives = 1;
      let selectedCards = [];

      function dealCards() {
        cardsContainer.innerHTML = "";
        selectedCards = [];
        const levelData = levels[currentLevel];
        const cardSet = [...cardSets[currentLevel]];
        shuffleArray(cardSet);
        selectedCards = cardSet.slice(0, levelData.cards);

        selectedCards.forEach((card, index) => {
          const cardContainer = document.createElement("div");
          cardContainer.className = "card-container";

          const cardElement = document.createElement("div");
          cardElement.className = "card";
          cardElement.dataset.level = currentLevel;
          cardElement.innerHTML = `
            <div class="card-inner">
                <div class="card-front">
                    <img src="./dumpster_images/${
                      levelData.frontImage
                    }" alt="Card Front">
                </div>
                <div class="card-back">
                    <img src="./dumpster_images/${card.name
                      .toLowerCase()
                      .replace(/\s+/g, "_")}.png" alt="${card.name}">
                    <h3>${
                      card.name == "Backwards Benny2"
                        ? "Backwards Benny"
                        : card.name
                    }</h3>
                    <p>${card.effect}</p>
                </div>
            </div>
        `;

          const actionElement = document.createElement("div");
          actionElement.className = "card-action";
          actionElement.innerHTML = `
            <p><strong>Effect:</strong> ${card.effect}</p>
            <p><em>${card.explanation}</em></p>
        `;

          cardContainer.appendChild(cardElement);
          cardContainer.appendChild(actionElement);

          cardElement.addEventListener("click", () => revealCard(index));
          cardsContainer.appendChild(cardContainer);
        });
        updateGameInfo();
        // cardRippleEffect();
      }
      function cardRippleEffect() {
        // from left to right continuously reorder by pushing first back and last to the front. make each get bigger for half a second to look like ripple effect
        const cardContainers = Array.from(cardsContainer.children);
        let currentIndex = 0;
        cardContainers[currentIndex].style.transform = "scale(1.3)";
        setInterval(() => {
          cardContainers[currentIndex].style.transform = "scale(1)";
          currentIndex = (currentIndex + 1) % cardContainers.length;
          cardContainers[currentIndex].style.transform = "scale(1.3)";
        }, 500);
      }
      function revealCard(index) {
        const card = selectedCards[index];
        const cardContainer = cardsContainer.children[index];
        const cardElement = cardContainer.querySelector(".card");
        const actionElement = cardContainer.querySelector(".card-action");

        cardElement.classList.add("flipped");
        // make larger
        cardElement.style.transform = "scale(1.1)";
        cardElement.style.pointerEvents = "none";
        actionElement.classList.add("visible");

        // Reveal all other cards after a short delay
        setTimeout(() => {
          revealAllCards();
          setTimeout(() => handleCardEffect(card.effect), 3000);
        }, 1500);
      }
      function revealAllCards() {
        Array.from(cardsContainer.children).forEach((cardContainer) => {
          const cardElement = cardContainer.querySelector(".card");
          const actionElement = cardContainer.querySelector(".card-action");
          cardElement.classList.add("flipped");
          cardElement.style.pointerEvents = "none";
          actionElement.classList.add("visible");
        });
      }
      function handleCardEffect(effect) {
        if (
          effect.includes("Advance") ||
          effect.includes("Step up") ||
          effect.includes("Climb back to Level 1")
        ) {
          currentLevel++;
        } else if (
          effect.includes("back") ||
          effect.includes("Rewind") ||
          effect.includes("Drop")
        ) {
          currentLevel = Math.max(0, currentLevel - 1);
        } else if (
          effect.includes("Stay") ||
          effect.includes("Don't you go anywhere")
        ) {
          // Do nothing, stay on the same level
        } else if (
          effect.includes("Game Over") ||
          effect.includes("buried") ||
          effect.includes("All Over") ||
          effect.includes("Traaap") ||
          effect.includes("Nothing")
        ) {
          endGame(false);
          return;
        } else if (effect.includes("Winner")) {
          endGame(true);
          return;
        }

        updateStatus();
        if (currentLevel in levels) {
          setTimeout(() => {
            dealCards();
            if (currentLevel > 1 && currentLevel < 4) {
              claimPrizeButton.style.display = "inline-block";
              nextLevelButton.style.display = "inline-block";
            } else {
              claimPrizeButton.style.display = "none";
              nextLevelButton.style.display = "none";
            }
          }, 1500);
        } else {
          endGame(false);
        }
      }
      function endGame(isWinner) {
        cardsContainer.innerHTML = "";
        claimPrizeButton.style.display = "none";
        nextLevelButton.style.display = "none";
        restartButton.style.display = "inline-block";

        const messageElement = document.createElement("h2");
        messageElement.textContent = isWinner
          ? "Congratulations! You won!"
          : "Game Over!";
        cardsContainer.appendChild(messageElement);

        gameInfoElement.innerHTML = `
                <h3>Game Finished</h3>
                <p>Final Level: ${currentLevel}</p>
                <p>${
                  isWinner
                    ? "You successfully climbed the trash heap!"
                    : "Better luck next time!"
                }</p>
            `;
      }

      claimPrizeButton.addEventListener("click", () => {
        endGame(true);
      });

      nextLevelButton.addEventListener("click", () => {
        currentLevel++;
        updateStatus();
        dealCards();
        claimPrizeButton.style.display = "none";
        nextLevelButton.style.display = "none";
      });

      restartButton.addEventListener("click", () => {
        currentLevel = 1;
        lives = 1;
        updateStatus();
        dealCards();
        restartButton.style.display = "none";
      });

      // Start the game
      dealCards();

      // event listener for card ripple effect. letter r
      let rippling = false;
      document.addEventListener("keydown", (e) => {
        if (e.key === "r" && !rippling) {
          cardRippleEffect();
          rippling = true;
        } else if (e.key === "r" && rippling) {
          rippling = false;
        }
      });
      //add event listener to add height to spacer divs
      const spacers = document.querySelectorAll(".spacer");
      //i for increase, d for decrease
      let spacerHeight = 0;
      document.addEventListener("keydown", (e) => {
        if (e.key === "i") {
          spacerHeight += 10;
          spacers.forEach((spacer) => {
            spacer.style.height = `${spacerHeight}px`;
          });
          //increase game cards
        } else if (e.key === "d") {
          spacerHeight -= 10;
          spacers.forEach((spacer) => {
            spacer.style.height = `${spacerHeight}px`;
          });
        }
      });
    </script>
  </body>
</html>
