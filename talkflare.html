<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <meta name="title" content="TalkFlare - Room Interaction Assistant" />
    <meta
      name="description"
      content="TalkFlare is your ultimate Room Interaction Assistant for live chats, audio responses, and dynamic interaction through the power of AI."
    />
    <meta
      name="keywords"
      content="TalkFlare, Room Interaction Assistant, AI, GPT, voice assistant, interactive chat, live streaming, audio chat, automation"
    />
    <meta name="author" content="Codenlighten" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta name="revisit-after" content="7 days" />
    <meta name="rating" content="General" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://yourwebsite.com" />
    <meta
      property="og:title"
      content="TalkFlare - Room Interaction Assistant"
    />
    <meta
      property="og:description"
      content="Engage your audience with TalkFlare, the Room Interaction Assistant that adds voice, dynamic templates, and AI-driven conversations to your live streams."
    />
    <meta
      property="og:image"
      content="https://yourwebsite.com/images/mypage-thumbnail.jpg"
    />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://yourwebsite.com" />
    <meta
      property="twitter:title"
      content="TalkFlare - Room Interaction Assistant"
    />
    <meta
      property="twitter:description"
      content="Take your live stream engagement to the next level with TalkFlare, the ultimate Room Interaction Assistant featuring voice responses and AI interactions."
    />
    <meta property="twitter:image" content="https://yourwebsite.com/" />

    <!-- Favicon and Web App Icons -->
    <link
      rel="icon"
      type="image/png"
      href="https://yourwebsite.com/favicon.png"
    />
    <link
      rel="apple-touch-icon"
      href="https://yourwebsite.com/apple-icon.png"
    />

    <!-- Misc Meta -->
    <meta name="theme-color" content="#0bb28a" />
    <meta name="msapplication-TileColor" content="#0bb28a" />
    <meta
      name="msapplication-TileImage"
      content="https://yourwebsite.com/ms-icon.png"
    />
    <meta name="application-name" content="TalkFlare" />

    <title>TalkFlare</title>
    <style>
      /* Apply smooth transitions and improved font-sizes for readability */
      * {
        box-sizing: border-box;
        transition: all 0.3s ease-in-out;
      }

      body {
        font-family: "Roboto", Arial, sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        background: linear-gradient(135deg, #e0f7f4 0%, #d1e7ff 100%);
        color: #333;
      }

      /* Container styling with larger shadow and slightly rounded edges */
      .container {
        background-color: #ffffff;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
        max-width: 600px;
        width: 100%;
        margin: 20px;
        text-align: center;
        transition: transform 0.2s ease-in-out;
      }

      .container:hover {
        transform: scale(1.02);
      }

      h1 {
        font-size: 2.5rem;
        color: #0bb28a;
        margin-bottom: 25px;
      }

      label {
        font-weight: bold;
        margin-top: 15px;
        font-size: 1.1rem;
      }

      input[type="text"],
      textarea,
      button,
      select {
        font-size: 1rem;
        padding: 12px;
      }

      input[type="text"],
      textarea,
      select {
        width: calc(100% - 30px);
        margin-bottom: 20px;
        border-radius: 10px;
        border: 1px solid #ddd;
        background-color: #f9f9f9;
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
      }

      input[type="text"]:focus,
      textarea:focus,
      select:focus {
        outline: none;
        border-color: #0bb28a;
        background-color: #ffffff;
      }

      textarea {
        height: 150px;
        resize: none;
      }

      button {
        background-color: #0bb28a;
        color: white;
        border: none;
        border-radius: 10px;
        padding: 12px 25px;
        cursor: pointer;
        font-size: 1.1rem;
        transition: background-color 0.3s ease, transform 0.2s ease;
      }

      button:hover {
        background-color: #089b74;
        transform: translateY(-3px);
      }

      button:disabled {
        background-color: #ccc;
        cursor: not-allowed;
        transform: none;
      }

      /* Add subtle hover effect for select dropdown */
      select:hover {
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      }

      /* Mobile responsive adjustments */
      @media (max-width: 768px) {
        .container {
          max-width: 100%;
          padding: 20px;
        }

        button {
          width: 100%;
        }

        h1 {
          font-size: 2rem;
        }
      }

      /* Add animations for better interaction */
      @keyframes glow {
        0% {
          box-shadow: 0 0 10px #0bb28a, 0 0 20px #0bb28a, 0 0 30px #0bb28a;
        }
        100% {
          box-shadow: 0 0 20px #089b74, 0 0 30px #089b74, 0 0 40px #089b74;
        }
      }

      button:focus {
        animation: glow 1.5s infinite alternate;
      }
    </style>
  </head>
  <body>
    <div class="container" id="header">
      <h1>TalkFlare</h1>
      <p id="roomtheme"></p>
    </div>

    <!-- Text input container -->
    <div class="container" id="interaction">
      <label for="userInput">Enter your message</label>
      <textarea
        id="userInput"
        placeholder="Type your message here..."
      ></textarea>
      <button id="sendMessage">Send</button>
    </div>
    <!-- choose template -->
    <div class="container" id="templates">
      <label for="template">Choose a template</label>
      <select id="template">
        <!-- null -->
        <option value="">Select a template</option>
        <!-- general -->
        <option value="general">General</option>
        <!-- card of thrones -->
        <option value="cardOfThrones">Card of Thrones</option>

        <!-- championship series game script -->
        <option value="championshipSeriesGameScript">
          Championship Series Game Script
        </option>

        <!-- championship pitches -->
        <option value="championshipPitches">Championship Pitches</option>
      </select>
    </div>
    <!-- audio playback hidden -->
    <audio id="audio" controls style="display: none"></audio>
    <div class="container" id="response">
      <label for="transcription">Response</label>
      <textarea id="transcription" readonly></textarea>
    </div>

    <!-- check for whether to play response or request -->
    <div id="speakerChoose" class="container">
      <label for="audioResponse">Enable Audio Response</label>
      <input type="checkbox" id="audioResponse" />
      <label for="speaker">Choose Speaker</label>
      <select id="speaker">
        <option value="echo">Echo</option>
        <option value="alloy">Alloy</option>
        <option value="shimmer">Shimmer</option>
      </select>
      <label for="audioSource">Choose Audio Source</label>
      <select id="audioSource">
        <option value="gpt">GPT</option>
        <option value="user">User</option>
      </select>
    </div>

    <div class="container">
      <input type="text" id="apiKey" placeholder="Enter your OpenAI API key" />
      <button id="saveApiKey">Save API Key</button>
      <input
        type="text"
        id="roomTheme"
        placeholder="Enter the theme of the room"
        value="Yo, what’s up everyone! Welcome to Echo X Live, the hottest channel on Whatnot! We are here to bring the hype, the heat, and the big wins! This is where legends are pulled, champions are found, and every pack is an adventure!

    We’re rippin’ packs, hittin’ breaks, and YOU could walk away with something epic tonight! Jerseys, cards, collectibles—you name it, we’ve got it! Every stream is filled with excitement, exclusive drops, and surprises around every corner!
    
    So, if you haven’t already, swipe up, grab a spot, and get ready for the ultimate thrill ride. Hit that follow button, ‘cause Echo X is live and we’re not stoppin’ anytime soon! Let’s GO! 🎉🔥💥"
      />
      <button id="saveRoomTheme">Save Room Theme</button>
    </div>
    <script>
      (function () {
        let isFetching = false;
        let memory = [];
        let roomTheme = localStorage.getItem("roomTheme") || "";
        let audioResponse = false;
        let speaker = "echo";
        let audioSource = "gpt";

        // Speech templates
        const speechTemplates = {
          general: [
            "Yo, what’s good, fam?! Welcome back to Echo X Live, your number one spot on Whatnot for non-stop excitement! We’re about to crack open packs, pull some heat, and make legends outta YOU tonight! Jerseys, cards, collectibles—every drop is 🔥! If you haven’t locked in your spot yet, swipe up, grab it NOW, and let’s get this party started! Hit that follow, ‘cause this stream is only going UP! Let’s GO! 🚀🔥🎉",

            "What’s up, Echo X crew?! It’s time to turn up the heat right here, right now! We’re live on Whatnot, ready to bring you the biggest hits, the wildest breaks, and some INSANE pulls! This is where legends are made, and tonight could be YOUR night! Collectibles, cards, and exclusive surprises are just around the corner! Swipe up, grab your spot, and let’s make some history! Hit that follow button ‘cause we’re just gettin’ started! Let’s GO! 🎉💥🔥",

            "Echo X Live family, what’s goin’ on?! The HYPE is real, and we’re coming at you with fire! Welcome to the stream that brings the action, the thrill, and those insane pack pulls! You already know we’ve got jerseys, cards, and EXCLUSIVE drops lined up, so if you want in, swipe up NOW and claim your spot! Every pack is an adventure, and tonight’s gonna be EPIC! Hit that follow button, ‘cause we’re here for the long haul! Let’s GO! 🚀🔥🎊",

            "Yo, Echo X fam, are you READY?! We’re live, we’re hyped, and the packs are HOT tonight! You know the deal—this is where the magic happens, where legends are pulled, and champions are made! Jerseys, cards, collectibles—tonight’s lineup is STACKED! If you haven’t grabbed your spot, swipe up and get in the game! Smash that follow button, ‘cause Echo X Live is bringing the heat all night long! Let’s GO! 🎉🔥💪",

            "Echo X squad, let’s TURN IT UP! Welcome to the stream where every pack is a potential game-changer, and every pull could be LEGENDARY! We’re live on Whatnot, rippin’ packs and hittin’ breaks like never before! The heat is on—jerseys, cards, collectibles—it’s ALL here, and it could be YOURS tonight! Don’t miss out—swipe up, grab a spot, and let’s make some magic happen! Hit that follow and buckle up, ‘cause we’re in for a wild ride! Let’s GO! 🚀💥🎉",

            "Yo, Echo X family, what’s poppin’?! We’re live and ready to rock the house! You already know this is where the biggest pulls, the hottest breaks, and the craziest surprises happen! We’ve got jerseys, cards, and collectibles up for grabs—so if you haven’t grabbed your spot yet, now’s the time! Swipe up, lock it in, and get ready for the hype! Smash that follow button, because we’re just getting warmed up! Let’s GO! 🔥🎉🚀",

            "Echo X fam, are you FEELING the energy?! We are live on Whatnot, and the stakes are HIGH tonight! Packs are ready to be ripped, heat’s about to drop, and YOU could be walking away with something legendary! From exclusive cards to rare jerseys, we’ve got it all, and it’s coming YOUR way! If you haven’t snagged a spot yet, swipe up NOW and get in on the action! Don’t forget to hit follow, ‘cause this stream is only going UP! Let’s GO! 🚀🔥🎊",

            "What’s goin’ on, Echo X crew?! We’re live, we’re pumped, and we’ve got the BIGGEST pulls of the night ready to drop! This is the place where champions are made and legends are pulled! Jerseys, cards, and EPIC collectibles are just waiting to be claimed! Haven’t grabbed your spot yet? No worries—swipe up, lock it down, and join the hype! Smash that follow button ‘cause we’re not slowing down! Let’s GO! 🎉💥🔥",

            "Echo X squad, let’s light it UP! We are live and ready to bring you non-stop action, fire pulls, and surprises around every corner! This is the stream where you go big or go home, and trust me—you don’t want to miss out! Cards, jerseys, collectibles—it’s all up for grabs! If you haven’t jumped in yet, swipe up, grab your spot, and let’s get to work! Hit that follow button and let’s make some magic happen tonight! Let’s GO! 🚀🔥🎉",

            "Yo, Echo X fam, it’s go time! We’re live, and the packs are HOT! This is where legends get pulled, and YOU could be next! Jerseys, cards, and collectibles are just waiting to be claimed, and every pack could be a game-changer! Haven’t secured your spot? No problem—swipe up now, grab it, and join the action! Smash that follow button, ‘cause Echo X is live and bringing the heat all night long! Let’s GO! 🎉💥🔥",
          ],

          cardOfThrones: [
            "Welcome to *Card of Thrones*, where only the bold make it to the top! Your journey starts at Training Camp, but can you survive the Regular Season and the Playoffs to claim the ultimate prize? That $250 signed Silverback Jersey is on the line, and it’s waiting for a true champion! Do you have what it takes to go all the way to the Championship Game, or will you play it safe and settle for a smaller prize? The stakes are high, and the thrill is REAL—let’s see who rises to the top! 🎉🔥👑",
          ],
        };

        const championshipSeriesGameScript = {
          openingShow: [
            "Welcome, everyone, to the Championship Series Game! I’m [your name], and tonight you’ve got the chance to walk away with some amazing prizes, including our grand prize—a $250 Silverback Signed & Authenticated Jersey!",

            "If you’re new here, let me tell you how it works. For just $25, you can buy a spot in the game and have the chance to win big as you move through each level—Training Camp, Regular Season, Playoffs, and the Championship Game. Each level has bigger and better prizes, but there’s a twist—you’ve got to decide whether to take the prize or risk it all for more!",
          ],

          gameRules: [
            "Here’s how the game works. Once you’ve bought your spot, we’ll randomly select a player to start the game. You’ll begin at Training Camp, and your goal is to make it all the way to the Championship Game where you can win that signed Silverback Jersey!",

            "Training Camp (Level 0): You start here and try to advance to the next level.",

            "Regular Season (Level 1): Make it to Regular Season, and you can win a prize worth $10-$20—or you can risk it and push forward to the Playoffs.",

            "Playoffs (Level 2): In the Playoffs, the stakes are higher—you can win $30-$50, but if you’re feeling lucky, you can risk it all for the Championship Game!",

            "Championship Game (Level 3): This is it—the grand prize! Win the $250 Silverback Signed Jersey or risk everything for a chance to win every prize we’ve got!",
          ],

          excitementUrgency: [
            "Let me tell you—this isn’t just any prize. That Championship Jersey is $250 worth of authenticated sports history, and it could be yours tonight! But the question is: do you play it safe and walk away with a smaller prize, or do you risk it all and go for the Championship?",

            "Spots are limited, so grab yours now before they’re gone! Who’s ready to take on the challenge and walk away with the grand prize tonight?",
          ],

          inGameAnnouncements: [
            "Alright, our next player is [name]! Let’s see if you’ve got what it takes to make it through the levels. We’re starting you off at Training Camp—will you advance to Regular Season?",

            "Ooooh, this is where the game gets tricky! You’ve made it to the Playoffs—you’ve got a prize worth $30-$50 on the line. Do you take it, or are you risking it all to reach the Championship?",

            "What do you all think? Should they take the Playoffs prize or go for the grand prize? Let me hear it in the chat—what’s the smart move here?",
          ],

          playerDecisions: [
            "Playing it safe! [Player name] is walking away with the $30-$50 Playoffs prize. Smart move! But don’t worry—there’s always another chance to go for the Championship.",

            "Whoa, [player name] is going for it! They’re risking everything to reach the Championship Game. Let’s see if they’ve got what it takes to win the $250 Jersey!",
          ],

          winLossHandling: [
            "We’ve got a winner! [Player name] just walked away with the $250 Silverback Signed Jersey! Huge congrats! That’s what I’m talking about—going big pays off!",

            "Tough break, but hey—that’s the name of the game! Don’t worry, you can jump back in for the next round and try again. There are plenty more prizes up for grabs.",
          ],

          closingShow: [
            "That was an incredible round! Huge congrats to our winners—tonight’s been full of big plays and smart moves. If you didn’t win this time, don’t worry—we’ve got another Championship Series Game coming up soon.",

            "Make sure to follow us so you don’t miss the next game—we’ll have even more prizes, more excitement, and another shot at the grand prize. Thanks to everyone who played tonight—you guys were amazing!",
          ],
        };
        const championshipPitches = [
          "Alright, everyone, this is your chance! For just $25, you can get in on the Championship Series Game and compete for some incredible prizes. We’re talking about a $250 Silverback Signed & Authenticated Jersey waiting for the winner! But here’s the twist—you’ve got to decide at each level whether to take your prize or risk it all for more. Spots are limited and they’re going fast, so grab yours now before someone else takes it. Don’t miss out on your shot to win big—jump in the game right now! 🎉🔥🏆",

          "Alright, folks, listen up! For just $25, you could be walking away with some serious bragging rights—oh, and did I mention a $250 Silverback Signed & Authenticated Jersey? That’s right, you could win a piece of sports history while I sit here just trying to make sure my mic doesn’t cut out. But here’s where it gets interesting. At every level, you’ve got to make the big call—do you take the prize in hand and walk away like a champ, or do you throw caution to the wind and risk it all for the big one? Don’t worry, we won’t judge… much. Spots are limited, so grab yours now before someone else snatches it up! Jump in, grab your spot, and let’s see who’s brave enough to go all the way. Because hey, if you’re not risking it, are you even living? 🎤🔥🏅",

          "Okay, folks, let’s cut to the chase—you could spend $25 on a boring dinner you’ll forget about tomorrow, OR you could drop it here and get a shot at walking away with a $250 Silverback Signed & Authenticated Jersey. And let’s be real—this jersey is going to look way better hanging in your house than that weird painting your aunt gave you. Not only can you win that sweet, sweet jersey, but along the way, you’ll have a chance at smaller prizes—$10, $20, $50. It’s like a buffet of prizes, but without that post-buffet regret. Here’s the catch—you’ve got to decide: do you take the prize in hand, or do you go full-on adrenaline junkie and risk it all for the big win? YOLO, right? Spots are limited—and when I say limited, I mean faster than your last relationship limited. So jump in, grab your spot, and let’s see if you’ve got the guts to go all the way. Because, honestly, who needs a safety net when you’ve got a chance to be a LEGEND?! 🎉🔥💪",
        ];

        // Check if audio response is enabled
        document
          .getElementById("audioResponse")
          .addEventListener("change", () => {
            audioResponse = !audioResponse;
          });

        // Check whether GPT or user text should be played
        document
          .getElementById("audioSource")
          .addEventListener("change", () => {
            audioSource = document.getElementById("audioSource").value;
          });

        document.getElementById(
          "roomtheme"
        ).textContent = `Room Theme: ${roomTheme}`;

        document.getElementById("saveApiKey").addEventListener("click", () => {
          const apiKeyInput = document.getElementById("apiKey").value;
          if (!apiKeyInput) {
            alert("Please enter an API key.");
            return;
          }
          localStorage.setItem("apiKey", apiKeyInput);
          alert("API key saved successfully.");
        });

        document
          .getElementById("saveRoomTheme")
          .addEventListener("click", () => {
            const roomThemeInput = document.getElementById("roomTheme").value;
            if (!roomThemeInput) {
              alert("Please enter a room theme.");
              return;
            }
            roomTheme = roomThemeInput;
            document.getElementById(
              "roomtheme"
            ).textContent = `Room Theme: ${roomTheme}`;
            localStorage.setItem("roomTheme", roomTheme);
            alert("Room theme saved successfully.");
          });

        document.getElementById("template").addEventListener("change", () => {
          const template = document.getElementById("template").value;

          let speechTemplate = null;

          // Check which template category is selected
          if (template === "general") {
            speechTemplate = speechTemplates.general;
          } else if (template === "cardOfThrones") {
            speechTemplate = speechTemplates.cardOfThrones;
          } else if (template === "championshipSeriesGameScript") {
            // Example, you could randomize or specify sub-category
            speechTemplate = championshipSeriesGameScript.openingShow;
          } else if (template === "championshipPitches") {
            speechTemplate = championshipPitches;
          }

          if (speechTemplate) {
            const randomIndex = Math.floor(
              Math.random() * speechTemplate.length
            );
            document.getElementById("userInput").value =
              speechTemplate[randomIndex];
          } else {
            document.getElementById("userInput").value = "";
          }
        });

        document.getElementById("template").value = "";
        document
          .getElementById("sendMessage")
          .addEventListener("click", async () => {
            const userInput = document.getElementById("userInput").value;
            const audioResponseCheck =
              document.getElementById("audioResponse").checked;
            if (!userInput) {
              alert("Please enter a message.");
              return;
            }
            const source = document.getElementById("audioSource").value;
            if (source === "user") {
              getAudio(userInput);
              document.getElementById("userInput").value = ""; // Clear input after sending
              return;
            }
            const textResponse = await sendTextToGPT(userInput);
            if (audioResponseCheck) getAudio(textResponse);
            document.getElementById("userInput").value = ""; // Clear input after sending
          });

        async function getAudio(text) {
          try {
            const speaker = document.getElementById("speaker").value;
            const response = await fetch(
              "https://api.openai.com/v1/audio/speech",
              {
                method: "POST",
                headers: {
                  Authorization: `Bearer ${localStorage.getItem("apiKey")}`,
                  "Content-Type": "application/json",
                },
                body: JSON.stringify({
                  model: "tts-1",
                  input: text,
                  voice: speaker,
                }),
              }
            );

            if (!response.ok)
              throw new Error(`HTTP error! status: ${response.status}`);

            const blob = await response.blob();
            const audio = document.getElementById("audio");
            audio.src = URL.createObjectURL(blob);
            audio.play();
          } catch (error) {
            console.error("Error generating speech:", error);
          }
        }

        async function sendTextToGPT(userMessage) {
          try {
            isFetching = true;
            const response = await fetch(
              "https://api.openai.com/v1/chat/completions",
              {
                method: "POST",
                headers: {
                  Authorization: `Bearer ${localStorage.getItem("apiKey")}`,
                  "Content-Type": "application/json",
                },
                body: JSON.stringify({
                  model: "gpt-4o-mini",
                  messages: [
                    {
                      role: "system",
                      content: `You are a part of the ${roomTheme} live chat room. Talk like you are from the ${roomTheme} community.`,
                    },
                    {
                      role: "user",
                      content: userMessage,
                    },
                  ],
                }),
              }
            );

            if (!response.ok)
              throw new Error(`HTTP error! status: ${response.status}`);

            const result = await response.json();
            const gptResponse = result.choices[0].message.content;
            document.getElementById(
              "transcription"
            ).value += `\nUser: ${userMessage}\nGPT: ${gptResponse}\n`;
            memory.push(userMessage, gptResponse);
            if (memory.length > 10) memory.splice(0, memory.length - 10);
            return gptResponse;
          } catch (error) {
            console.error("Error sending text to GPT:", error);
            alert("There was a problem with the GPT API request.");
          } finally {
            isFetching = false;
          }
        }
      })();
    </script>
  </body>
</html>
